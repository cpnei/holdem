from collections import namedtuple
from enum import Enum
from holdem import PLAYER_STATE, COMMUNITY_STATE, STATE, ACTION, action_table, card_to_normal_str
import random
import numpy as np
import operator
import os
from time import gmtime, strftime
import pickle
from treys import Evaluator
from treys import Card

poker_hand_table = {2: {}, 3: {}, 4: {}, 5: {}, 6: {}, 7: {}, 8: {}, 9: {},
                    10: {}}  # [no_players][card1card2]  s for suited, o for offsuited
poker_hand_table[2]['AA'] = 85
poker_hand_table[3]['AA'] = 75
poker_hand_table[4]['AA'] = 65
poker_hand_table[5]['AA'] = 55
poker_hand_table[6]['AA'] = 50
poker_hand_table[7]['AA'] = 45
poker_hand_table[8]['AA'] = 40
poker_hand_table[9]['AA'] = 35
poker_hand_table[10]['AA'] = 30
poker_hand_table[2]['AKs'] = 65
poker_hand_table[3]['AKs'] = 50
poker_hand_table[4]['AKs'] = 40
poker_hand_table[5]['AKs'] = 35
poker_hand_table[6]['AKs'] = 30
poker_hand_table[7]['AKs'] = 30
poker_hand_table[8]['AKs'] = 25
poker_hand_table[9]['AKs'] = 25
poker_hand_table[10]['AKs'] = 20
poker_hand_table[2]['AKo'] = 65
poker_hand_table[3]['AKo'] = 50
poker_hand_table[4]['AKo'] = 40
poker_hand_table[5]['AKo'] = 30
poker_hand_table[6]['AKo'] = 30
poker_hand_table[7]['AKo'] = 25
poker_hand_table[8]['AKo'] = 20
poker_hand_table[9]['AKo'] = 20
poker_hand_table[10]['AKo'] = 15
poker_hand_table[2]['AQs'] = 65
poker_hand_table[3]['AQs'] = 50
poker_hand_table[4]['AQs'] = 40
poker_hand_table[5]['AQs'] = 35
poker_hand_table[6]['AQs'] = 30
poker_hand_table[7]['AQs'] = 25
poker_hand_table[8]['AQs'] = 25
poker_hand_table[9]['AQs'] = 20
poker_hand_table[10]['AQs'] = 20
poker_hand_table[2]['AQo'] = 65
poker_hand_table[3]['AQo'] = 45
poker_hand_table[4]['AQo'] = 35
poker_hand_table[5]['AQo'] = 30
poker_hand_table[6]['AQo'] = 25
poker_hand_table[7]['AQo'] = 20
poker_hand_table[8]['AQo'] = 20
poker_hand_table[9]['AQo'] = 20
poker_hand_table[10]['AQo'] = 15
poker_hand_table[2]['AJs'] = 65
poker_hand_table[3]['AJs'] = 50
poker_hand_table[4]['AJs'] = 40
poker_hand_table[5]['AJs'] = 30
poker_hand_table[6]['AJs'] = 30
poker_hand_table[7]['AJs'] = 25
poker_hand_table[8]['AJs'] = 20
poker_hand_table[9]['AJs'] = 20
poker_hand_table[10]['AJs'] = 20
poker_hand_table[2]['AJo'] = 65
poker_hand_table[3]['AJo'] = 45
poker_hand_table[4]['AJo'] = 35
poker_hand_table[5]['AJo'] = 30
poker_hand_table[6]['AJo'] = 25
poker_hand_table[7]['AJo'] = 20
poker_hand_table[8]['AJo'] = 20
poker_hand_table[9]['AJo'] = 15
poker_hand_table[10]['AJo'] = 15
poker_hand_table[2]['ATs'] = 65
poker_hand_table[3]['ATs'] = 45
poker_hand_table[4]['ATs'] = 35
poker_hand_table[5]['ATs'] = 30
poker_hand_table[6]['ATs'] = 25
poker_hand_table[7]['ATs'] = 25
poker_hand_table[8]['ATs'] = 20
poker_hand_table[9]['ATs'] = 20
poker_hand_table[10]['ATs'] = 15
poker_hand_table[2]['ATo'] = 65
poker_hand_table[3]['ATo'] = 45
poker_hand_table[4]['ATo'] = 35
poker_hand_table[5]['ATo'] = 30
poker_hand_table[6]['ATo'] = 25
poker_hand_table[7]['ATo'] = 20
poker_hand_table[8]['ATo'] = 15
poker_hand_table[9]['ATo'] = 15
poker_hand_table[10]['ATo'] = 15
poker_hand_table[2]['A9s'] = 65
poker_hand_table[3]['A9s'] = 45
poker_hand_table[4]['A9s'] = 35
poker_hand_table[5]['A9s'] = 30
poker_hand_table[6]['A9s'] = 25
poker_hand_table[7]['A9s'] = 20
poker_hand_table[8]['A9s'] = 20
poker_hand_table[9]['A9s'] = 15
poker_hand_table[10]['A9s'] = 15
poker_hand_table[2]['A9o'] = 60
poker_hand_table[3]['A9o'] = 40
poker_hand_table[4]['A9o'] = 30
poker_hand_table[5]['A9o'] = 25
poker_hand_table[6]['A9o'] = 20
poker_hand_table[7]['A9o'] = 15
poker_hand_table[8]['A9o'] = 15
poker_hand_table[9]['A9o'] = 15
poker_hand_table[10]['A9o'] = 10
poker_hand_table[2]['A8s'] = 60
poker_hand_table[3]['A8s'] = 45
poker_hand_table[4]['A8s'] = 35
poker_hand_table[5]['A8s'] = 25
poker_hand_table[6]['A8s'] = 25
poker_hand_table[7]['A8s'] = 20
poker_hand_table[8]['A8s'] = 20
poker_hand_table[9]['A8s'] = 15
poker_hand_table[10]['A8s'] = 15
poker_hand_table[2]['A8o'] = 60
poker_hand_table[3]['A8o'] = 40
poker_hand_table[4]['A8o'] = 30
poker_hand_table[5]['A8o'] = 25
poker_hand_table[6]['A8o'] = 20
poker_hand_table[7]['A8o'] = 15
poker_hand_table[8]['A8o'] = 15
poker_hand_table[9]['A8o'] = 10
poker_hand_table[10]['A8o'] = 10
poker_hand_table[2]['A7s'] = 60
poker_hand_table[3]['A7s'] = 45
poker_hand_table[4]['A7s'] = 35
poker_hand_table[5]['A7s'] = 25
poker_hand_table[6]['A7s'] = 20
poker_hand_table[7]['A7s'] = 20
poker_hand_table[8]['A7s'] = 15
poker_hand_table[9]['A7s'] = 15
poker_hand_table[10]['A7s'] = 15
poker_hand_table[2]['A7o'] = 60
poker_hand_table[3]['A7o'] = 40
poker_hand_table[4]['A7o'] = 30
poker_hand_table[5]['A7o'] = 25
poker_hand_table[6]['A7o'] = 20
poker_hand_table[7]['A7o'] = 15
poker_hand_table[8]['A7o'] = 15
poker_hand_table[9]['A7o'] = 10
poker_hand_table[10]['A7o'] = 10
poker_hand_table[2]['A6s'] = 60
poker_hand_table[3]['A6s'] = 40
poker_hand_table[4]['A6s'] = 30
poker_hand_table[5]['A6s'] = 25
poker_hand_table[6]['A6s'] = 20
poker_hand_table[7]['A6s'] = 20
poker_hand_table[8]['A6s'] = 15
poker_hand_table[9]['A6s'] = 15
poker_hand_table[10]['A6s'] = 15
poker_hand_table[2]['A6o'] = 60
poker_hand_table[3]['A6o'] = 40
poker_hand_table[4]['A6o'] = 30
poker_hand_table[5]['A6o'] = 20
poker_hand_table[6]['A6o'] = 20
poker_hand_table[7]['A6o'] = 15
poker_hand_table[8]['A6o'] = 15
poker_hand_table[9]['A6o'] = 10
poker_hand_table[10]['A6o'] = 10
poker_hand_table[2]['A5s'] = 60
poker_hand_table[3]['A5s'] = 40
poker_hand_table[4]['A5s'] = 30
poker_hand_table[5]['A5s'] = 25
poker_hand_table[6]['A5s'] = 20
poker_hand_table[7]['A5s'] = 20
poker_hand_table[8]['A5s'] = 20
poker_hand_table[9]['A5s'] = 15
poker_hand_table[10]['A5s'] = 15
poker_hand_table[2]['A5o'] = 60
poker_hand_table[3]['A5o'] = 40
poker_hand_table[4]['A5o'] = 30
poker_hand_table[5]['A5o'] = 20
poker_hand_table[6]['A5o'] = 20
poker_hand_table[7]['A5o'] = 15
poker_hand_table[8]['A5o'] = 15
poker_hand_table[9]['A5o'] = 10
poker_hand_table[10]['A5o'] = 10
poker_hand_table[2]['A4s'] = 60
poker_hand_table[3]['A4s'] = 40
poker_hand_table[4]['A4s'] = 30
poker_hand_table[5]['A4s'] = 25
poker_hand_table[6]['A4s'] = 20
poker_hand_table[7]['A4s'] = 20
poker_hand_table[8]['A4s'] = 15
poker_hand_table[9]['A4s'] = 15
poker_hand_table[10]['A4s'] = 15
poker_hand_table[2]['A4o'] = 55
poker_hand_table[3]['A4o'] = 35
poker_hand_table[4]['A4o'] = 25
poker_hand_table[5]['A4o'] = 20
poker_hand_table[6]['A4o'] = 15
poker_hand_table[7]['A4o'] = 15
poker_hand_table[8]['A4o'] = 15
poker_hand_table[9]['A4o'] = 10
poker_hand_table[10]['A4o'] = 10
poker_hand_table[2]['A3s'] = 60
poker_hand_table[3]['A3s'] = 40
poker_hand_table[4]['A3s'] = 30
poker_hand_table[5]['A3s'] = 25
poker_hand_table[6]['A3s'] = 20
poker_hand_table[7]['A3s'] = 20
poker_hand_table[8]['A3s'] = 15
poker_hand_table[9]['A3s'] = 15
poker_hand_table[10]['A3s'] = 15
poker_hand_table[2]['A3o'] = 55
poker_hand_table[3]['A3o'] = 35
poker_hand_table[4]['A3o'] = 25
poker_hand_table[5]['A3o'] = 20
poker_hand_table[6]['A3o'] = 15
poker_hand_table[7]['A3o'] = 15
poker_hand_table[8]['A3o'] = 10
poker_hand_table[9]['A3o'] = 10
poker_hand_table[10]['A3o'] = 10
poker_hand_table[2]['A2s'] = 55
poker_hand_table[3]['A2s'] = 40
poker_hand_table[4]['A2s'] = 30
poker_hand_table[5]['A2s'] = 25
poker_hand_table[6]['A2s'] = 20
poker_hand_table[7]['A2s'] = 20
poker_hand_table[8]['A2s'] = 15
poker_hand_table[9]['A2s'] = 15
poker_hand_table[10]['A2s'] = 15
poker_hand_table[2]['A2o'] = 55
poker_hand_table[3]['A2o'] = 35
poker_hand_table[4]['A2o'] = 25
poker_hand_table[5]['A2o'] = 20
poker_hand_table[6]['A2o'] = 15
poker_hand_table[7]['A2o'] = 15
poker_hand_table[8]['A2o'] = 10
poker_hand_table[9]['A2o'] = 10
poker_hand_table[10]['A2o'] = 10
poker_hand_table[2]['KK'] = 80
poker_hand_table[3]['KK'] = 70
poker_hand_table[4]['KK'] = 60
poker_hand_table[5]['KK'] = 50
poker_hand_table[6]['KK'] = 45
poker_hand_table[7]['KK'] = 40
poker_hand_table[8]['KK'] = 35
poker_hand_table[9]['KK'] = 30
poker_hand_table[10]['KK'] = 25
poker_hand_table[2]['KQs'] = 65
poker_hand_table[3]['KQs'] = 45
poker_hand_table[4]['KQs'] = 40
poker_hand_table[5]['KQs'] = 30
poker_hand_table[6]['KQs'] = 30
poker_hand_table[7]['KQs'] = 25
poker_hand_table[8]['KQs'] = 20
poker_hand_table[9]['KQs'] = 20
poker_hand_table[10]['KQs'] = 20
poker_hand_table[2]['KQo'] = 60
poker_hand_table[3]['KQo'] = 45
poker_hand_table[4]['KQo'] = 35
poker_hand_table[5]['KQo'] = 30
poker_hand_table[6]['KQo'] = 25
poker_hand_table[7]['KQo'] = 20
poker_hand_table[8]['KQo'] = 20
poker_hand_table[9]['KQo'] = 15
poker_hand_table[10]['KQo'] = 15
poker_hand_table[2]['KJs'] = 65
poker_hand_table[3]['KJs'] = 45
poker_hand_table[4]['KJs'] = 35
poker_hand_table[5]['KJs'] = 30
poker_hand_table[6]['KJs'] = 25
poker_hand_table[7]['KJs'] = 25
poker_hand_table[8]['KJs'] = 20
poker_hand_table[9]['KJs'] = 20
poker_hand_table[10]['KJs'] = 20
poker_hand_table[2]['KJo'] = 60
poker_hand_table[3]['KJo'] = 45
poker_hand_table[4]['KJo'] = 35
poker_hand_table[5]['KJo'] = 30
poker_hand_table[6]['KJo'] = 25
poker_hand_table[7]['KJo'] = 20
poker_hand_table[8]['KJo'] = 20
poker_hand_table[9]['KJo'] = 15
poker_hand_table[10]['KJo'] = 15
poker_hand_table[2]['KTs'] = 60
poker_hand_table[3]['KTs'] = 45
poker_hand_table[4]['KTs'] = 35
poker_hand_table[5]['KTs'] = 30
poker_hand_table[6]['KTs'] = 25
poker_hand_table[7]['KTs'] = 25
poker_hand_table[8]['KTs'] = 20
poker_hand_table[9]['KTs'] = 20
poker_hand_table[10]['KTs'] = 15
poker_hand_table[2]['KTo'] = 60
poker_hand_table[3]['KTo'] = 40
poker_hand_table[4]['KTo'] = 30
poker_hand_table[5]['KTo'] = 25
poker_hand_table[6]['KTo'] = 20
poker_hand_table[7]['KTo'] = 20
poker_hand_table[8]['KTo'] = 15
poker_hand_table[9]['KTo'] = 15
poker_hand_table[10]['KTo'] = 15
poker_hand_table[2]['K9s'] = 60
poker_hand_table[3]['K9s'] = 40
poker_hand_table[4]['K9s'] = 35
poker_hand_table[5]['K9s'] = 25
poker_hand_table[6]['K9s'] = 25
poker_hand_table[7]['K9s'] = 20
poker_hand_table[8]['K9s'] = 20
poker_hand_table[9]['K9s'] = 15
poker_hand_table[10]['K9s'] = 15
poker_hand_table[2]['K9o'] = 60
poker_hand_table[3]['K9o'] = 40
poker_hand_table[4]['K9o'] = 30
poker_hand_table[5]['K9o'] = 25
poker_hand_table[6]['K9o'] = 20
poker_hand_table[7]['K9o'] = 15
poker_hand_table[8]['K9o'] = 15
poker_hand_table[9]['K9o'] = 10
poker_hand_table[10]['K9o'] = 10
poker_hand_table[2]['K8s'] = 60
poker_hand_table[3]['K8s'] = 40
poker_hand_table[4]['K8s'] = 30
poker_hand_table[5]['K8s'] = 25
poker_hand_table[6]['K8s'] = 20
poker_hand_table[7]['K8s'] = 20
poker_hand_table[8]['K8s'] = 15
poker_hand_table[9]['K8s'] = 15
poker_hand_table[10]['K8s'] = 15
poker_hand_table[2]['K8o'] = 55
poker_hand_table[3]['K8o'] = 35
poker_hand_table[4]['K8o'] = 25
poker_hand_table[5]['K8o'] = 20
poker_hand_table[6]['K8o'] = 15
poker_hand_table[7]['K8o'] = 15
poker_hand_table[8]['K8o'] = 10
poker_hand_table[9]['K8o'] = 10
poker_hand_table[10]['K8o'] = 10
poker_hand_table[2]['K7s'] = 60
poker_hand_table[3]['K7s'] = 40
poker_hand_table[4]['K7s'] = 30
poker_hand_table[5]['K7s'] = 25
poker_hand_table[6]['K7s'] = 20
poker_hand_table[7]['K7s'] = 20
poker_hand_table[8]['K7s'] = 15
poker_hand_table[9]['K7s'] = 15
poker_hand_table[10]['K7s'] = 15
poker_hand_table[2]['K7o'] = 55
poker_hand_table[3]['K7o'] = 35
poker_hand_table[4]['K7o'] = 25
poker_hand_table[5]['K7o'] = 20
poker_hand_table[6]['K7o'] = 15
poker_hand_table[7]['K7o'] = 15
poker_hand_table[8]['K7o'] = 10
poker_hand_table[9]['K7o'] = 10
poker_hand_table[10]['K7o'] = 10
poker_hand_table[2]['K6s'] = 55
poker_hand_table[3]['K6s'] = 40
poker_hand_table[4]['K6s'] = 30
poker_hand_table[5]['K6s'] = 25
poker_hand_table[6]['K6s'] = 20
poker_hand_table[7]['K6s'] = 20
poker_hand_table[8]['K6s'] = 15
poker_hand_table[9]['K6s'] = 15
poker_hand_table[10]['K6s'] = 15
poker_hand_table[2]['K6o'] = 55
poker_hand_table[3]['K6o'] = 35
poker_hand_table[4]['K6o'] = 25
poker_hand_table[5]['K6o'] = 20
poker_hand_table[6]['K6o'] = 15
poker_hand_table[7]['K6o'] = 15
poker_hand_table[8]['K6o'] = 10
poker_hand_table[9]['K6o'] = 10
poker_hand_table[10]['K6o'] = 10
poker_hand_table[2]['K5s'] = 55
poker_hand_table[3]['K5s'] = 35
poker_hand_table[4]['K5s'] = 30
poker_hand_table[5]['K5s'] = 25
poker_hand_table[6]['K5s'] = 20
poker_hand_table[7]['K5s'] = 15
poker_hand_table[8]['K5s'] = 15
poker_hand_table[9]['K5s'] = 15
poker_hand_table[10]['K5s'] = 10
poker_hand_table[2]['K5o'] = 55
poker_hand_table[3]['K5o'] = 35
poker_hand_table[4]['K5o'] = 25
poker_hand_table[5]['K5o'] = 20
poker_hand_table[6]['K5o'] = 15
poker_hand_table[7]['K5o'] = 15
poker_hand_table[8]['K5o'] = 10
poker_hand_table[9]['K5o'] = 10
poker_hand_table[10]['K5o'] = 10
poker_hand_table[2]['K4s'] = 55
poker_hand_table[3]['K4s'] = 35
poker_hand_table[4]['K4s'] = 25
poker_hand_table[5]['K4s'] = 20
poker_hand_table[6]['K4s'] = 20
poker_hand_table[7]['K4s'] = 15
poker_hand_table[8]['K4s'] = 15
poker_hand_table[9]['K4s'] = 15
poker_hand_table[10]['K4s'] = 10
poker_hand_table[2]['K4o'] = 50
poker_hand_table[3]['K4o'] = 35
poker_hand_table[4]['K4o'] = 25
poker_hand_table[5]['K4o'] = 20
poker_hand_table[6]['K4o'] = 15
poker_hand_table[7]['K4o'] = 10
poker_hand_table[8]['K4o'] = 10
poker_hand_table[9]['K4o'] = 10
poker_hand_table[10]['K4o'] = 10
poker_hand_table[2]['K3s'] = 55
poker_hand_table[3]['K3s'] = 35
poker_hand_table[4]['K3s'] = 25
poker_hand_table[5]['K3s'] = 20
poker_hand_table[6]['K3s'] = 20
poker_hand_table[7]['K3s'] = 15
poker_hand_table[8]['K3s'] = 15
poker_hand_table[9]['K3s'] = 15
poker_hand_table[10]['K3s'] = 10
poker_hand_table[2]['K3o'] = 50
poker_hand_table[3]['K3o'] = 30
poker_hand_table[4]['K3o'] = 25
poker_hand_table[5]['K3o'] = 20
poker_hand_table[6]['K3o'] = 15
poker_hand_table[7]['K3o'] = 10
poker_hand_table[8]['K3o'] = 10
poker_hand_table[9]['K3o'] = 10
poker_hand_table[10]['K3o'] = 10
poker_hand_table[2]['K2s'] = 55
poker_hand_table[3]['K2s'] = 35
poker_hand_table[4]['K2s'] = 25
poker_hand_table[5]['K2s'] = 20
poker_hand_table[6]['K2s'] = 20
poker_hand_table[7]['K2s'] = 15
poker_hand_table[8]['K2s'] = 15
poker_hand_table[9]['K2s'] = 15
poker_hand_table[10]['K2s'] = 10
poker_hand_table[2]['K2o'] = 50
poker_hand_table[3]['K2o'] = 30
poker_hand_table[4]['K2o'] = 20
poker_hand_table[5]['K2o'] = 15
poker_hand_table[6]['K2o'] = 15
poker_hand_table[7]['K2o'] = 10
poker_hand_table[8]['K2o'] = 10
poker_hand_table[9]['K2o'] = 10
poker_hand_table[10]['K2o'] = 10
poker_hand_table[2]['QQ'] = 80
poker_hand_table[3]['QQ'] = 65
poker_hand_table[4]['QQ'] = 55
poker_hand_table[5]['QQ'] = 45
poker_hand_table[6]['QQ'] = 40
poker_hand_table[7]['QQ'] = 30
poker_hand_table[8]['QQ'] = 30
poker_hand_table[9]['QQ'] = 25
poker_hand_table[10]['QQ'] = 20
poker_hand_table[2]['QJs'] = 60
poker_hand_table[3]['QJs'] = 45
poker_hand_table[4]['QJs'] = 35
poker_hand_table[5]['QJs'] = 30
poker_hand_table[6]['QJs'] = 25
poker_hand_table[7]['QJs'] = 25
poker_hand_table[8]['QJs'] = 20
poker_hand_table[9]['QJs'] = 20
poker_hand_table[10]['QJs'] = 15
poker_hand_table[2]['QJo'] = 60
poker_hand_table[3]['QJo'] = 40
poker_hand_table[4]['QJo'] = 35
poker_hand_table[5]['QJo'] = 25
poker_hand_table[6]['QJo'] = 25
poker_hand_table[7]['QJo'] = 20
poker_hand_table[8]['QJo'] = 15
poker_hand_table[9]['QJo'] = 15
poker_hand_table[10]['QJo'] = 15
poker_hand_table[2]['QTs'] = 60
poker_hand_table[3]['QTs'] = 45
poker_hand_table[4]['QTs'] = 35
poker_hand_table[5]['QTs'] = 30
poker_hand_table[6]['QTs'] = 25
poker_hand_table[7]['QTs'] = 20
poker_hand_table[8]['QTs'] = 20
poker_hand_table[9]['QTs'] = 20
poker_hand_table[10]['QTs'] = 15
poker_hand_table[2]['QTo'] = 55
poker_hand_table[3]['QTo'] = 40
poker_hand_table[4]['QTo'] = 30
poker_hand_table[5]['QTo'] = 25
poker_hand_table[6]['QTo'] = 20
poker_hand_table[7]['QTo'] = 20
poker_hand_table[8]['QTo'] = 15
poker_hand_table[9]['QTo'] = 15
poker_hand_table[10]['QTo'] = 15
poker_hand_table[2]['Q9s'] = 60
poker_hand_table[3]['Q9s'] = 40
poker_hand_table[4]['Q9s'] = 30
poker_hand_table[5]['Q9s'] = 25
poker_hand_table[6]['Q9s'] = 20
poker_hand_table[7]['Q9s'] = 20
poker_hand_table[8]['Q9s'] = 20
poker_hand_table[9]['Q9s'] = 15
poker_hand_table[10]['Q9s'] = 15
poker_hand_table[2]['Q9o'] = 55
poker_hand_table[3]['Q9o'] = 40
poker_hand_table[4]['Q9o'] = 30
poker_hand_table[5]['Q9o'] = 25
poker_hand_table[6]['Q9o'] = 20
poker_hand_table[7]['Q9o'] = 15
poker_hand_table[8]['Q9o'] = 15
poker_hand_table[9]['Q9o'] = 10
poker_hand_table[10]['Q9o'] = 10
poker_hand_table[2]['Q8s'] = 55
poker_hand_table[3]['Q8s'] = 40
poker_hand_table[4]['Q8s'] = 30
poker_hand_table[5]['Q8s'] = 25
poker_hand_table[6]['Q8s'] = 20
poker_hand_table[7]['Q8s'] = 20
poker_hand_table[8]['Q8s'] = 15
poker_hand_table[9]['Q8s'] = 15
poker_hand_table[10]['Q8s'] = 15
poker_hand_table[2]['Q8o'] = 55
poker_hand_table[3]['Q8o'] = 35
poker_hand_table[4]['Q8o'] = 25
poker_hand_table[5]['Q8o'] = 20
poker_hand_table[6]['Q8o'] = 15
poker_hand_table[7]['Q8o'] = 15
poker_hand_table[8]['Q8o'] = 10
poker_hand_table[9]['Q8o'] = 10
poker_hand_table[10]['Q8o'] = 10
poker_hand_table[2]['Q7s'] = 55
poker_hand_table[3]['Q7s'] = 35
poker_hand_table[4]['Q7s'] = 30
poker_hand_table[5]['Q7s'] = 25
poker_hand_table[6]['Q7s'] = 20
poker_hand_table[7]['Q7s'] = 15
poker_hand_table[8]['Q7s'] = 15
poker_hand_table[9]['Q7s'] = 15
poker_hand_table[10]['Q7s'] = 10
poker_hand_table[2]['Q7o'] = 50
poker_hand_table[3]['Q7o'] = 35
poker_hand_table[4]['Q7o'] = 25
poker_hand_table[5]['Q7o'] = 20
poker_hand_table[6]['Q7o'] = 15
poker_hand_table[7]['Q7o'] = 10
poker_hand_table[8]['Q7o'] = 10
poker_hand_table[9]['Q7o'] = 10
poker_hand_table[10]['Q7o'] = 10
poker_hand_table[2]['Q6s'] = 55
poker_hand_table[3]['Q6s'] = 35
poker_hand_table[4]['Q6s'] = 25
poker_hand_table[5]['Q6s'] = 20
poker_hand_table[6]['Q6s'] = 20
poker_hand_table[7]['Q6s'] = 15
poker_hand_table[8]['Q6s'] = 15
poker_hand_table[9]['Q6s'] = 15
poker_hand_table[10]['Q6s'] = 10
poker_hand_table[2]['Q6o'] = 50
poker_hand_table[3]['Q6o'] = 30
poker_hand_table[4]['Q6o'] = 25
poker_hand_table[5]['Q6o'] = 20
poker_hand_table[6]['Q6o'] = 15
poker_hand_table[7]['Q6o'] = 10
poker_hand_table[8]['Q6o'] = 10
poker_hand_table[9]['Q6o'] = 10
poker_hand_table[10]['Q6o'] = 10
poker_hand_table[2]['Q5s'] = 55
poker_hand_table[3]['Q5s'] = 35
poker_hand_table[4]['Q5s'] = 25
poker_hand_table[5]['Q5s'] = 20
poker_hand_table[6]['Q5s'] = 20
poker_hand_table[7]['Q5s'] = 15
poker_hand_table[8]['Q5s'] = 15
poker_hand_table[9]['Q5s'] = 15
poker_hand_table[10]['Q5s'] = 10
poker_hand_table[2]['Q5o'] = 50
poker_hand_table[3]['Q5o'] = 30
poker_hand_table[4]['Q5o'] = 20
poker_hand_table[5]['Q5o'] = 15
poker_hand_table[6]['Q5o'] = 15
poker_hand_table[7]['Q5o'] = 10
poker_hand_table[8]['Q5o'] = 10
poker_hand_table[9]['Q5o'] = 10
poker_hand_table[10]['Q5o'] = 5
poker_hand_table[2]['Q4s'] = 50
poker_hand_table[3]['Q4s'] = 35
poker_hand_table[4]['Q4s'] = 25
poker_hand_table[5]['Q4s'] = 20
poker_hand_table[6]['Q4s'] = 20
poker_hand_table[7]['Q4s'] = 15
poker_hand_table[8]['Q4s'] = 15
poker_hand_table[9]['Q4s'] = 10
poker_hand_table[10]['Q4s'] = 10
poker_hand_table[2]['Q4o'] = 50
poker_hand_table[3]['Q4o'] = 30
poker_hand_table[4]['Q4o'] = 20
poker_hand_table[5]['Q4o'] = 15
poker_hand_table[6]['Q4o'] = 15
poker_hand_table[7]['Q4o'] = 10
poker_hand_table[8]['Q4o'] = 10
poker_hand_table[9]['Q4o'] = 10
poker_hand_table[10]['Q4o'] = 5
poker_hand_table[2]['Q3s'] = 50
poker_hand_table[3]['Q3s'] = 35
poker_hand_table[4]['Q3s'] = 25
poker_hand_table[5]['Q3s'] = 20
poker_hand_table[6]['Q3s'] = 15
poker_hand_table[7]['Q3s'] = 15
poker_hand_table[8]['Q3s'] = 15
poker_hand_table[9]['Q3s'] = 10
poker_hand_table[10]['Q3s'] = 10
poker_hand_table[2]['Q3o'] = 50
poker_hand_table[3]['Q3o'] = 30
poker_hand_table[4]['Q3o'] = 20
poker_hand_table[5]['Q3o'] = 15
poker_hand_table[6]['Q3o'] = 15
poker_hand_table[7]['Q3o'] = 10
poker_hand_table[8]['Q3o'] = 10
poker_hand_table[9]['Q3o'] = 10
poker_hand_table[10]['Q3o'] = 5
poker_hand_table[2]['Q2s'] = 50
poker_hand_table[3]['Q2s'] = 30
poker_hand_table[4]['Q2s'] = 25
poker_hand_table[5]['Q2s'] = 20
poker_hand_table[6]['Q2s'] = 15
poker_hand_table[7]['Q2s'] = 15
poker_hand_table[8]['Q2s'] = 15
poker_hand_table[9]['Q2s'] = 10
poker_hand_table[10]['Q2s'] = 10
poker_hand_table[2]['Q2o'] = 45
poker_hand_table[3]['Q2o'] = 30
poker_hand_table[4]['Q2o'] = 20
poker_hand_table[5]['Q2o'] = 15
poker_hand_table[6]['Q2o'] = 10
poker_hand_table[7]['Q2o'] = 10
poker_hand_table[8]['Q2o'] = 10
poker_hand_table[9]['Q2o'] = 10
poker_hand_table[10]['Q2o'] = 5
poker_hand_table[2]['JJ'] = 80
poker_hand_table[3]['JJ'] = 60
poker_hand_table[4]['JJ'] = 50
poker_hand_table[5]['JJ'] = 40
poker_hand_table[6]['JJ'] = 35
poker_hand_table[7]['JJ'] = 30
poker_hand_table[8]['JJ'] = 25
poker_hand_table[9]['JJ'] = 20
poker_hand_table[10]['JJ'] = 20
poker_hand_table[2]['JTs'] = 55
poker_hand_table[3]['JTs'] = 40
poker_hand_table[4]['JTs'] = 35
poker_hand_table[5]['JTs'] = 30
poker_hand_table[6]['JTs'] = 25
poker_hand_table[7]['JTs'] = 20
poker_hand_table[8]['JTs'] = 20
poker_hand_table[9]['JTs'] = 20
poker_hand_table[10]['JTs'] = 15
poker_hand_table[2]['JTo'] = 55
poker_hand_table[3]['JTo'] = 40
poker_hand_table[4]['JTo'] = 30
poker_hand_table[5]['JTo'] = 25
poker_hand_table[6]['JTo'] = 20
poker_hand_table[7]['JTo'] = 20
poker_hand_table[8]['JTo'] = 15
poker_hand_table[9]['JTo'] = 15
poker_hand_table[10]['JTo'] = 15
poker_hand_table[2]['J9s'] = 55
poker_hand_table[3]['J9s'] = 40
poker_hand_table[4]['J9s'] = 30
poker_hand_table[5]['J9s'] = 25
poker_hand_table[6]['J9s'] = 20
poker_hand_table[7]['J9s'] = 20
poker_hand_table[8]['J9s'] = 20
poker_hand_table[9]['J9s'] = 15
poker_hand_table[10]['J9s'] = 15
poker_hand_table[2]['J9o'] = 55
poker_hand_table[3]['J9o'] = 35
poker_hand_table[4]['J9o'] = 30
poker_hand_table[5]['J9o'] = 20
poker_hand_table[6]['J9o'] = 20
poker_hand_table[7]['J9o'] = 15
poker_hand_table[8]['J9o'] = 15
poker_hand_table[9]['J9o'] = 10
poker_hand_table[10]['J9o'] = 10
poker_hand_table[2]['J8s'] = 55
poker_hand_table[3]['J8s'] = 40
poker_hand_table[4]['J8s'] = 30
poker_hand_table[5]['J8s'] = 25
poker_hand_table[6]['J8s'] = 20
poker_hand_table[7]['J8s'] = 20
poker_hand_table[8]['J8s'] = 15
poker_hand_table[9]['J8s'] = 15
poker_hand_table[10]['J8s'] = 15
poker_hand_table[2]['J8o'] = 50
poker_hand_table[3]['J8o'] = 35
poker_hand_table[4]['J8o'] = 25
poker_hand_table[5]['J8o'] = 20
poker_hand_table[6]['J8o'] = 15
poker_hand_table[7]['J8o'] = 15
poker_hand_table[8]['J8o'] = 10
poker_hand_table[9]['J8o'] = 10
poker_hand_table[10]['J8o'] = 10
poker_hand_table[2]['J7s'] = 50
poker_hand_table[3]['J7s'] = 35
poker_hand_table[4]['J7s'] = 25
poker_hand_table[5]['J7s'] = 20
poker_hand_table[6]['J7s'] = 20
poker_hand_table[7]['J7s'] = 15
poker_hand_table[8]['J7s'] = 15
poker_hand_table[9]['J7s'] = 15
poker_hand_table[10]['J7s'] = 10
poker_hand_table[2]['J7o'] = 50
poker_hand_table[3]['J7o'] = 30
poker_hand_table[4]['J7o'] = 25
poker_hand_table[5]['J7o'] = 20
poker_hand_table[6]['J7o'] = 15
poker_hand_table[7]['J7o'] = 10
poker_hand_table[8]['J7o'] = 10
poker_hand_table[9]['J7o'] = 10
poker_hand_table[10]['J7o'] = 10
poker_hand_table[2]['J6s'] = 50
poker_hand_table[3]['J6s'] = 35
poker_hand_table[4]['J6s'] = 25
poker_hand_table[5]['J6s'] = 20
poker_hand_table[6]['J6s'] = 15
poker_hand_table[7]['J6s'] = 15
poker_hand_table[8]['J6s'] = 15
poker_hand_table[9]['J6s'] = 10
poker_hand_table[10]['J6s'] = 10
poker_hand_table[2]['J6o'] = 50
poker_hand_table[3]['J6o'] = 30
poker_hand_table[4]['J6o'] = 20
poker_hand_table[5]['J6o'] = 15
poker_hand_table[6]['J6o'] = 15
poker_hand_table[7]['J6o'] = 10
poker_hand_table[8]['J6o'] = 10
poker_hand_table[9]['J6o'] = 10
poker_hand_table[10]['J6o'] = 5
poker_hand_table[2]['J5s'] = 50
poker_hand_table[3]['J5s'] = 35
poker_hand_table[4]['J5s'] = 25
poker_hand_table[5]['J5s'] = 20
poker_hand_table[6]['J5s'] = 15
poker_hand_table[7]['J5s'] = 15
poker_hand_table[8]['J5s'] = 15
poker_hand_table[9]['J5s'] = 10
poker_hand_table[10]['J5s'] = 10
poker_hand_table[2]['J5o'] = 45
poker_hand_table[3]['J5o'] = 30
poker_hand_table[4]['J5o'] = 20
poker_hand_table[5]['J5o'] = 15
poker_hand_table[6]['J5o'] = 15
poker_hand_table[7]['J5o'] = 10
poker_hand_table[8]['J5o'] = 10
poker_hand_table[9]['J5o'] = 10
poker_hand_table[10]['J5o'] = 5
poker_hand_table[2]['J4s'] = 50
poker_hand_table[3]['J4s'] = 30
poker_hand_table[4]['J4s'] = 25
poker_hand_table[5]['J4s'] = 20
poker_hand_table[6]['J4s'] = 15
poker_hand_table[7]['J4s'] = 15
poker_hand_table[8]['J4s'] = 15
poker_hand_table[9]['J4s'] = 10
poker_hand_table[10]['J4s'] = 10
poker_hand_table[2]['J4o'] = 45
poker_hand_table[3]['J4o'] = 30
poker_hand_table[4]['J4o'] = 20
poker_hand_table[5]['J4o'] = 15
poker_hand_table[6]['J4o'] = 10
poker_hand_table[7]['J4o'] = 10
poker_hand_table[8]['J4o'] = 10
poker_hand_table[9]['J4o'] = 10
poker_hand_table[10]['J4o'] = 5
poker_hand_table[2]['J3s'] = 50
poker_hand_table[3]['J3s'] = 30
poker_hand_table[4]['J3s'] = 25
poker_hand_table[5]['J3s'] = 20
poker_hand_table[6]['J3s'] = 15
poker_hand_table[7]['J3s'] = 15
poker_hand_table[8]['J3s'] = 10
poker_hand_table[9]['J3s'] = 10
poker_hand_table[10]['J3s'] = 10
poker_hand_table[2]['J3o'] = 45
poker_hand_table[3]['J3o'] = 25
poker_hand_table[4]['J3o'] = 20
poker_hand_table[5]['J3o'] = 15
poker_hand_table[6]['J3o'] = 10
poker_hand_table[7]['J3o'] = 10
poker_hand_table[8]['J3o'] = 10
poker_hand_table[9]['J3o'] = 5
poker_hand_table[10]['J3o'] = 5
poker_hand_table[2]['J2s'] = 45
poker_hand_table[3]['J2s'] = 30
poker_hand_table[4]['J2s'] = 25
poker_hand_table[5]['J2s'] = 20
poker_hand_table[6]['J2s'] = 15
poker_hand_table[7]['J2s'] = 15
poker_hand_table[8]['J2s'] = 10
poker_hand_table[9]['J2s'] = 10
poker_hand_table[10]['J2s'] = 10
poker_hand_table[2]['J2o'] = 45
poker_hand_table[3]['J2o'] = 25
poker_hand_table[4]['J2o'] = 20
poker_hand_table[5]['J2o'] = 15
poker_hand_table[6]['J2o'] = 10
poker_hand_table[7]['J2o'] = 10
poker_hand_table[8]['J2o'] = 10
poker_hand_table[9]['J2o'] = 5
poker_hand_table[10]['J2o'] = 5
poker_hand_table[2]['TT'] = 75
poker_hand_table[3]['TT'] = 60
poker_hand_table[4]['TT'] = 45
poker_hand_table[5]['TT'] = 35
poker_hand_table[6]['TT'] = 30
poker_hand_table[7]['TT'] = 25
poker_hand_table[8]['TT'] = 20
poker_hand_table[9]['TT'] = 20
poker_hand_table[10]['TT'] = 15
poker_hand_table[2]['T9s'] = 55
poker_hand_table[3]['T9s'] = 40
poker_hand_table[4]['T9s'] = 30
poker_hand_table[5]['T9s'] = 25
poker_hand_table[6]['T9s'] = 20
poker_hand_table[7]['T9s'] = 20
poker_hand_table[8]['T9s'] = 20
poker_hand_table[9]['T9s'] = 15
poker_hand_table[10]['T9s'] = 15
poker_hand_table[2]['T9o'] = 50
poker_hand_table[3]['T9o'] = 35
poker_hand_table[4]['T9o'] = 30
poker_hand_table[5]['T9o'] = 20
poker_hand_table[6]['T9o'] = 20
poker_hand_table[7]['T9o'] = 15
poker_hand_table[8]['T9o'] = 15
poker_hand_table[9]['T9o'] = 15
poker_hand_table[10]['T9o'] = 10
poker_hand_table[2]['T8s'] = 55
poker_hand_table[3]['T8s'] = 35
poker_hand_table[4]['T8s'] = 30
poker_hand_table[5]['T8s'] = 25
poker_hand_table[6]['T8s'] = 20
poker_hand_table[7]['T8s'] = 20
poker_hand_table[8]['T8s'] = 15
poker_hand_table[9]['T8s'] = 15
poker_hand_table[10]['T8s'] = 15
poker_hand_table[2]['T8o'] = 50
poker_hand_table[3]['T8o'] = 35
poker_hand_table[4]['T8o'] = 25
poker_hand_table[5]['T8o'] = 20
poker_hand_table[6]['T8o'] = 15
poker_hand_table[7]['T8o'] = 15
poker_hand_table[8]['T8o'] = 10
poker_hand_table[9]['T8o'] = 10
poker_hand_table[10]['T8o'] = 10
poker_hand_table[2]['T7s'] = 50
poker_hand_table[3]['T7s'] = 35
poker_hand_table[4]['T7s'] = 25
poker_hand_table[5]['T7s'] = 20
poker_hand_table[6]['T7s'] = 20
poker_hand_table[7]['T7s'] = 15
poker_hand_table[8]['T7s'] = 15
poker_hand_table[9]['T7s'] = 15
poker_hand_table[10]['T7s'] = 10
poker_hand_table[2]['T7o'] = 50
poker_hand_table[3]['T7o'] = 30
poker_hand_table[4]['T7o'] = 25
poker_hand_table[5]['T7o'] = 20
poker_hand_table[6]['T7o'] = 15
poker_hand_table[7]['T7o'] = 15
poker_hand_table[8]['T7o'] = 10
poker_hand_table[9]['T7o'] = 10
poker_hand_table[10]['T7o'] = 10
poker_hand_table[2]['T6s'] = 50
poker_hand_table[3]['T6s'] = 35
poker_hand_table[4]['T6s'] = 25
poker_hand_table[5]['T6s'] = 20
poker_hand_table[6]['T6s'] = 15
poker_hand_table[7]['T6s'] = 15
poker_hand_table[8]['T6s'] = 15
poker_hand_table[9]['T6s'] = 10
poker_hand_table[10]['T6s'] = 10
poker_hand_table[2]['T6o'] = 45
poker_hand_table[3]['T6o'] = 30
poker_hand_table[4]['T6o'] = 20
poker_hand_table[5]['T6o'] = 15
poker_hand_table[6]['T6o'] = 15
poker_hand_table[7]['T6o'] = 10
poker_hand_table[8]['T6o'] = 10
poker_hand_table[9]['T6o'] = 10
poker_hand_table[10]['T6o'] = 5
poker_hand_table[2]['T5s'] = 45
poker_hand_table[3]['T5s'] = 30
poker_hand_table[4]['T5s'] = 25
poker_hand_table[5]['T5s'] = 20
poker_hand_table[6]['T5s'] = 15
poker_hand_table[7]['T5s'] = 15
poker_hand_table[8]['T5s'] = 10
poker_hand_table[9]['T5s'] = 10
poker_hand_table[10]['T5s'] = 10
poker_hand_table[2]['T5o'] = 45
poker_hand_table[3]['T5o'] = 25
poker_hand_table[4]['T5o'] = 20
poker_hand_table[5]['T5o'] = 15
poker_hand_table[6]['T5o'] = 10
poker_hand_table[7]['T5o'] = 10
poker_hand_table[8]['T5o'] = 10
poker_hand_table[9]['T5o'] = 5
poker_hand_table[10]['T5o'] = 5
poker_hand_table[2]['T4s'] = 45
poker_hand_table[3]['T4s'] = 30
poker_hand_table[4]['T4s'] = 25
poker_hand_table[5]['T4s'] = 20
poker_hand_table[6]['T4s'] = 15
poker_hand_table[7]['T4s'] = 15
poker_hand_table[8]['T4s'] = 10
poker_hand_table[9]['T4s'] = 10
poker_hand_table[10]['T4s'] = 10
poker_hand_table[2]['T4o'] = 45
poker_hand_table[3]['T4o'] = 25
poker_hand_table[4]['T4o'] = 20
poker_hand_table[5]['T4o'] = 15
poker_hand_table[6]['T4o'] = 10
poker_hand_table[7]['T4o'] = 10
poker_hand_table[8]['T4o'] = 10
poker_hand_table[9]['T4o'] = 5
poker_hand_table[10]['T4o'] = 5
poker_hand_table[2]['T3s'] = 45
poker_hand_table[3]['T3s'] = 30
poker_hand_table[4]['T3s'] = 20
poker_hand_table[5]['T3s'] = 20
poker_hand_table[6]['T3s'] = 15
poker_hand_table[7]['T3s'] = 15
poker_hand_table[8]['T3s'] = 10
poker_hand_table[9]['T3s'] = 10
poker_hand_table[10]['T3s'] = 10
poker_hand_table[2]['T3o'] = 40
poker_hand_table[3]['T3o'] = 25
poker_hand_table[4]['T3o'] = 20
poker_hand_table[5]['T3o'] = 15
poker_hand_table[6]['T3o'] = 10
poker_hand_table[7]['T3o'] = 10
poker_hand_table[8]['T3o'] = 10
poker_hand_table[9]['T3o'] = 5
poker_hand_table[10]['T3o'] = 5
poker_hand_table[2]['T2s'] = 45
poker_hand_table[3]['T2s'] = 30
poker_hand_table[4]['T2s'] = 20
poker_hand_table[5]['T2s'] = 15
poker_hand_table[6]['T2s'] = 15
poker_hand_table[7]['T2s'] = 15
poker_hand_table[8]['T2s'] = 10
poker_hand_table[9]['T2s'] = 10
poker_hand_table[10]['T2s'] = 10
poker_hand_table[2]['T2o'] = 40
poker_hand_table[3]['T2o'] = 25
poker_hand_table[4]['T2o'] = 15
poker_hand_table[5]['T2o'] = 15
poker_hand_table[6]['T2o'] = 10
poker_hand_table[7]['T2o'] = 10
poker_hand_table[8]['T2o'] = 10
poker_hand_table[9]['T2o'] = 5
poker_hand_table[10]['T2o'] = 5
poker_hand_table[2]['99'] = 70
poker_hand_table[3]['99'] = 55
poker_hand_table[4]['99'] = 40
poker_hand_table[5]['99'] = 35
poker_hand_table[6]['99'] = 25
poker_hand_table[7]['99'] = 20
poker_hand_table[8]['99'] = 20
poker_hand_table[9]['99'] = 15
poker_hand_table[10]['99'] = 15
poker_hand_table[2]['98s'] = 50
poker_hand_table[3]['98s'] = 35
poker_hand_table[4]['98s'] = 30
poker_hand_table[5]['98s'] = 25
poker_hand_table[6]['98s'] = 20
poker_hand_table[7]['98s'] = 20
poker_hand_table[8]['98s'] = 15
poker_hand_table[9]['98s'] = 15
poker_hand_table[10]['98s'] = 15
poker_hand_table[2]['98o'] = 50
poker_hand_table[3]['98o'] = 35
poker_hand_table[4]['98o'] = 25
poker_hand_table[5]['98o'] = 20
poker_hand_table[6]['98o'] = 15
poker_hand_table[7]['98o'] = 15
poker_hand_table[8]['98o'] = 10
poker_hand_table[9]['98o'] = 10
poker_hand_table[10]['98o'] = 10
poker_hand_table[2]['97s'] = 50
poker_hand_table[3]['97s'] = 35
poker_hand_table[4]['97s'] = 25
poker_hand_table[5]['97s'] = 20
poker_hand_table[6]['97s'] = 20
poker_hand_table[7]['97s'] = 15
poker_hand_table[8]['97s'] = 15
poker_hand_table[9]['97s'] = 15
poker_hand_table[10]['97s'] = 10
poker_hand_table[2]['97o'] = 45
poker_hand_table[3]['97o'] = 30
poker_hand_table[4]['97o'] = 25
poker_hand_table[5]['97o'] = 20
poker_hand_table[6]['97o'] = 15
poker_hand_table[7]['97o'] = 15
poker_hand_table[8]['97o'] = 10
poker_hand_table[9]['97o'] = 10
poker_hand_table[10]['97o'] = 10
poker_hand_table[2]['96s'] = 50
poker_hand_table[3]['96s'] = 30
poker_hand_table[4]['96s'] = 25
poker_hand_table[5]['96s'] = 20
poker_hand_table[6]['96s'] = 15
poker_hand_table[7]['96s'] = 15
poker_hand_table[8]['96s'] = 15
poker_hand_table[9]['96s'] = 10
poker_hand_table[10]['96s'] = 10
poker_hand_table[2]['96o'] = 45
poker_hand_table[3]['96o'] = 30
poker_hand_table[4]['96o'] = 20
poker_hand_table[5]['96o'] = 15
poker_hand_table[6]['96o'] = 15
poker_hand_table[7]['96o'] = 10
poker_hand_table[8]['96o'] = 10
poker_hand_table[9]['96o'] = 10
poker_hand_table[10]['96o'] = 10
poker_hand_table[2]['95s'] = 45
poker_hand_table[3]['95s'] = 30
poker_hand_table[4]['95s'] = 25
poker_hand_table[5]['95s'] = 20
poker_hand_table[6]['95s'] = 15
poker_hand_table[7]['95s'] = 15
poker_hand_table[8]['95s'] = 10
poker_hand_table[9]['95s'] = 10
poker_hand_table[10]['95s'] = 10
poker_hand_table[2]['95o'] = 45
poker_hand_table[3]['95o'] = 25
poker_hand_table[4]['95o'] = 20
poker_hand_table[5]['95o'] = 15
poker_hand_table[6]['95o'] = 10
poker_hand_table[7]['95o'] = 10
poker_hand_table[8]['95o'] = 10
poker_hand_table[9]['95o'] = 5
poker_hand_table[10]['95o'] = 5
poker_hand_table[2]['94s'] = 45
poker_hand_table[3]['94s'] = 30
poker_hand_table[4]['94s'] = 20
poker_hand_table[5]['94s'] = 15
poker_hand_table[6]['94s'] = 15
poker_hand_table[7]['94s'] = 15
poker_hand_table[8]['94s'] = 10
poker_hand_table[9]['94s'] = 10
poker_hand_table[10]['94s'] = 10
poker_hand_table[2]['94o'] = 40
poker_hand_table[3]['94o'] = 25
poker_hand_table[4]['94o'] = 15
poker_hand_table[5]['94o'] = 15
poker_hand_table[6]['94o'] = 10
poker_hand_table[7]['94o'] = 10
poker_hand_table[8]['94o'] = 5
poker_hand_table[9]['94o'] = 5
poker_hand_table[10]['94o'] = 5
poker_hand_table[2]['93s'] = 45
poker_hand_table[3]['93s'] = 30
poker_hand_table[4]['93s'] = 20
poker_hand_table[5]['93s'] = 15
poker_hand_table[6]['93s'] = 15
poker_hand_table[7]['93s'] = 10
poker_hand_table[8]['93s'] = 10
poker_hand_table[9]['93s'] = 10
poker_hand_table[10]['93s'] = 10
poker_hand_table[2]['93o'] = 40
poker_hand_table[3]['93o'] = 25
poker_hand_table[4]['93o'] = 15
poker_hand_table[5]['93o'] = 15
poker_hand_table[6]['93o'] = 10
poker_hand_table[7]['93o'] = 10
poker_hand_table[8]['93o'] = 5
poker_hand_table[9]['93o'] = 5
poker_hand_table[10]['93o'] = 5
poker_hand_table[2]['92s'] = 40
poker_hand_table[3]['92s'] = 25
poker_hand_table[4]['92s'] = 20
poker_hand_table[5]['92s'] = 15
poker_hand_table[6]['92s'] = 15
poker_hand_table[7]['92s'] = 10
poker_hand_table[8]['92s'] = 10
poker_hand_table[9]['92s'] = 10
poker_hand_table[10]['92s'] = 10
poker_hand_table[2]['92o'] = 40
poker_hand_table[3]['92o'] = 25
poker_hand_table[4]['92o'] = 15
poker_hand_table[5]['92o'] = 10
poker_hand_table[6]['92o'] = 10
poker_hand_table[7]['92o'] = 10
poker_hand_table[8]['92o'] = 5
poker_hand_table[9]['92o'] = 5
poker_hand_table[10]['92o'] = 5
poker_hand_table[2]['88'] = 70
poker_hand_table[3]['88'] = 50
poker_hand_table[4]['88'] = 40
poker_hand_table[5]['88'] = 30
poker_hand_table[6]['88'] = 25
poker_hand_table[7]['88'] = 20
poker_hand_table[8]['88'] = 20
poker_hand_table[9]['88'] = 15
poker_hand_table[10]['88'] = 15
poker_hand_table[2]['87s'] = 50
poker_hand_table[3]['87s'] = 35
poker_hand_table[4]['87s'] = 25
poker_hand_table[5]['87s'] = 20
poker_hand_table[6]['87s'] = 20
poker_hand_table[7]['87s'] = 15
poker_hand_table[8]['87s'] = 15
poker_hand_table[9]['87s'] = 15
poker_hand_table[10]['87s'] = 15
poker_hand_table[2]['87o'] = 45
poker_hand_table[3]['87o'] = 30
poker_hand_table[4]['87o'] = 25
poker_hand_table[5]['87o'] = 20
poker_hand_table[6]['87o'] = 15
poker_hand_table[7]['87o'] = 15
poker_hand_table[8]['87o'] = 10
poker_hand_table[9]['87o'] = 10
poker_hand_table[10]['87o'] = 10
poker_hand_table[2]['86s'] = 45
poker_hand_table[3]['86s'] = 30
poker_hand_table[4]['86s'] = 25
poker_hand_table[5]['86s'] = 20
poker_hand_table[6]['86s'] = 20
poker_hand_table[7]['86s'] = 15
poker_hand_table[8]['86s'] = 15
poker_hand_table[9]['86s'] = 15
poker_hand_table[10]['86s'] = 10
poker_hand_table[2]['86o'] = 45
poker_hand_table[3]['86o'] = 30
poker_hand_table[4]['86o'] = 20
poker_hand_table[5]['86o'] = 15
poker_hand_table[6]['86o'] = 15
poker_hand_table[7]['86o'] = 10
poker_hand_table[8]['86o'] = 10
poker_hand_table[9]['86o'] = 10
poker_hand_table[10]['86o'] = 10
poker_hand_table[2]['85s'] = 45
poker_hand_table[3]['85s'] = 30
poker_hand_table[4]['85s'] = 25
poker_hand_table[5]['85s'] = 20
poker_hand_table[6]['85s'] = 15
poker_hand_table[7]['85s'] = 15
poker_hand_table[8]['85s'] = 15
poker_hand_table[9]['85s'] = 10
poker_hand_table[10]['85s'] = 10
poker_hand_table[2]['85o'] = 40
poker_hand_table[3]['85o'] = 25
poker_hand_table[4]['85o'] = 20
poker_hand_table[5]['85o'] = 15
poker_hand_table[6]['85o'] = 10
poker_hand_table[7]['85o'] = 10
poker_hand_table[8]['85o'] = 10
poker_hand_table[9]['85o'] = 10
poker_hand_table[10]['85o'] = 5
poker_hand_table[2]['84s'] = 45
poker_hand_table[3]['84s'] = 30
poker_hand_table[4]['84s'] = 20
poker_hand_table[5]['84s'] = 15
poker_hand_table[6]['84s'] = 15
poker_hand_table[7]['84s'] = 15
poker_hand_table[8]['84s'] = 10
poker_hand_table[9]['84s'] = 10
poker_hand_table[10]['84s'] = 10
poker_hand_table[2]['84o'] = 40
poker_hand_table[3]['84o'] = 25
poker_hand_table[4]['84o'] = 20
poker_hand_table[5]['84o'] = 15
poker_hand_table[6]['84o'] = 10
poker_hand_table[7]['84o'] = 10
poker_hand_table[8]['84o'] = 10
poker_hand_table[9]['84o'] = 5
poker_hand_table[10]['84o'] = 5
poker_hand_table[2]['83s'] = 40
poker_hand_table[3]['83s'] = 25
poker_hand_table[4]['83s'] = 20
poker_hand_table[5]['83s'] = 15
poker_hand_table[6]['83s'] = 15
poker_hand_table[7]['83s'] = 10
poker_hand_table[8]['83s'] = 10
poker_hand_table[9]['83s'] = 10
poker_hand_table[10]['83s'] = 10
poker_hand_table[2]['83o'] = 40
poker_hand_table[3]['83o'] = 20
poker_hand_table[4]['83o'] = 15
poker_hand_table[5]['83o'] = 10
poker_hand_table[6]['83o'] = 10
poker_hand_table[7]['83o'] = 10
poker_hand_table[8]['83o'] = 5
poker_hand_table[9]['83o'] = 5
poker_hand_table[10]['83o'] = 5
poker_hand_table[2]['82s'] = 40
poker_hand_table[3]['82s'] = 25
poker_hand_table[4]['82s'] = 20
poker_hand_table[5]['82s'] = 15
poker_hand_table[6]['82s'] = 15
poker_hand_table[7]['82s'] = 10
poker_hand_table[8]['82s'] = 10
poker_hand_table[9]['82s'] = 10
poker_hand_table[10]['82s'] = 10
poker_hand_table[2]['82o'] = 35
poker_hand_table[3]['82o'] = 20
poker_hand_table[4]['82o'] = 15
poker_hand_table[5]['82o'] = 10
poker_hand_table[6]['82o'] = 10
poker_hand_table[7]['82o'] = 10
poker_hand_table[8]['82o'] = 5
poker_hand_table[9]['82o'] = 5
poker_hand_table[10]['82o'] = 5
poker_hand_table[2]['77'] = 65
poker_hand_table[3]['77'] = 45
poker_hand_table[4]['77'] = 35
poker_hand_table[5]['77'] = 25
poker_hand_table[6]['77'] = 20
poker_hand_table[7]['77'] = 20
poker_hand_table[8]['77'] = 15
poker_hand_table[9]['77'] = 15
poker_hand_table[10]['77'] = 15
poker_hand_table[2]['76s'] = 45
poker_hand_table[3]['76s'] = 30
poker_hand_table[4]['76s'] = 25
poker_hand_table[5]['76s'] = 20
poker_hand_table[6]['76s'] = 20
poker_hand_table[7]['76s'] = 15
poker_hand_table[8]['76s'] = 15
poker_hand_table[9]['76s'] = 15
poker_hand_table[10]['76s'] = 10
poker_hand_table[2]['76o'] = 45
poker_hand_table[3]['76o'] = 30
poker_hand_table[4]['76o'] = 20
poker_hand_table[5]['76o'] = 15
poker_hand_table[6]['76o'] = 15
poker_hand_table[7]['76o'] = 10
poker_hand_table[8]['76o'] = 10
poker_hand_table[9]['76o'] = 10
poker_hand_table[10]['76o'] = 10
poker_hand_table[2]['75s'] = 45
poker_hand_table[3]['75s'] = 30
poker_hand_table[4]['75s'] = 25
poker_hand_table[5]['75s'] = 20
poker_hand_table[6]['75s'] = 15
poker_hand_table[7]['75s'] = 15
poker_hand_table[8]['75s'] = 15
poker_hand_table[9]['75s'] = 10
poker_hand_table[10]['75s'] = 10
poker_hand_table[2]['75o'] = 40
poker_hand_table[3]['75o'] = 25
poker_hand_table[4]['75o'] = 20
poker_hand_table[5]['75o'] = 15
poker_hand_table[6]['75o'] = 15
poker_hand_table[7]['75o'] = 10
poker_hand_table[8]['75o'] = 10
poker_hand_table[9]['75o'] = 10
poker_hand_table[10]['75o'] = 10
poker_hand_table[2]['74s'] = 40
poker_hand_table[3]['74s'] = 30
poker_hand_table[4]['74s'] = 20
poker_hand_table[5]['74s'] = 20
poker_hand_table[6]['74s'] = 15
poker_hand_table[7]['74s'] = 15
poker_hand_table[8]['74s'] = 10
poker_hand_table[9]['74s'] = 10
poker_hand_table[10]['74s'] = 10
poker_hand_table[2]['74o'] = 40
poker_hand_table[3]['74o'] = 25
poker_hand_table[4]['74o'] = 20
poker_hand_table[5]['74o'] = 15
poker_hand_table[6]['74o'] = 10
poker_hand_table[7]['74o'] = 10
poker_hand_table[8]['74o'] = 10
poker_hand_table[9]['74o'] = 10
poker_hand_table[10]['74o'] = 5
poker_hand_table[2]['73s'] = 40
poker_hand_table[3]['73s'] = 25
poker_hand_table[4]['73s'] = 20
poker_hand_table[5]['73s'] = 15
poker_hand_table[6]['73s'] = 15
poker_hand_table[7]['73s'] = 10
poker_hand_table[8]['73s'] = 10
poker_hand_table[9]['73s'] = 10
poker_hand_table[10]['73s'] = 10
poker_hand_table[2]['73o'] = 35
poker_hand_table[3]['73o'] = 20
poker_hand_table[4]['73o'] = 15
poker_hand_table[5]['73o'] = 10
poker_hand_table[6]['73o'] = 10
poker_hand_table[7]['73o'] = 10
poker_hand_table[8]['73o'] = 5
poker_hand_table[9]['73o'] = 5
poker_hand_table[10]['73o'] = 5
poker_hand_table[2]['72s'] = 40
poker_hand_table[3]['72s'] = 25
poker_hand_table[4]['72s'] = 20
poker_hand_table[5]['72s'] = 15
poker_hand_table[6]['72s'] = 15
poker_hand_table[7]['72s'] = 10
poker_hand_table[8]['72s'] = 10
poker_hand_table[9]['72s'] = 10
poker_hand_table[10]['72s'] = 10
poker_hand_table[2]['72o'] = 35
poker_hand_table[3]['72o'] = 20
poker_hand_table[4]['72o'] = 15
poker_hand_table[5]['72o'] = 10
poker_hand_table[6]['72o'] = 10
poker_hand_table[7]['72o'] = 5
poker_hand_table[8]['72o'] = 5
poker_hand_table[9]['72o'] = 5
poker_hand_table[10]['72o'] = 5
poker_hand_table[2]['66'] = 65
poker_hand_table[3]['66'] = 45
poker_hand_table[4]['66'] = 30
poker_hand_table[5]['66'] = 25
poker_hand_table[6]['66'] = 20
poker_hand_table[7]['66'] = 15
poker_hand_table[8]['66'] = 15
poker_hand_table[9]['66'] = 15
poker_hand_table[10]['66'] = 15
poker_hand_table[2]['65s'] = 45
poker_hand_table[3]['65s'] = 30
poker_hand_table[4]['65s'] = 25
poker_hand_table[5]['65s'] = 20
poker_hand_table[6]['65s'] = 15
poker_hand_table[7]['65s'] = 15
poker_hand_table[8]['65s'] = 15
poker_hand_table[9]['65s'] = 15
poker_hand_table[10]['65s'] = 10
poker_hand_table[2]['65o'] = 40
poker_hand_table[3]['65o'] = 25
poker_hand_table[4]['65o'] = 20
poker_hand_table[5]['65o'] = 15
poker_hand_table[6]['65o'] = 15
poker_hand_table[7]['65o'] = 10
poker_hand_table[8]['65o'] = 10
poker_hand_table[9]['65o'] = 10
poker_hand_table[10]['65o'] = 10
poker_hand_table[2]['64s'] = 40
poker_hand_table[3]['64s'] = 30
poker_hand_table[4]['64s'] = 20
poker_hand_table[5]['64s'] = 20
poker_hand_table[6]['64s'] = 15
poker_hand_table[7]['64s'] = 15
poker_hand_table[8]['64s'] = 15
poker_hand_table[9]['64s'] = 10
poker_hand_table[10]['64s'] = 10
poker_hand_table[2]['64o'] = 40
poker_hand_table[3]['64o'] = 25
poker_hand_table[4]['64o'] = 20
poker_hand_table[5]['64o'] = 15
poker_hand_table[6]['64o'] = 10
poker_hand_table[7]['64o'] = 10
poker_hand_table[8]['64o'] = 10
poker_hand_table[9]['64o'] = 10
poker_hand_table[10]['64o'] = 10
poker_hand_table[2]['63s'] = 40
poker_hand_table[3]['63s'] = 25
poker_hand_table[4]['63s'] = 20
poker_hand_table[5]['63s'] = 15
poker_hand_table[6]['63s'] = 15
poker_hand_table[7]['63s'] = 15
poker_hand_table[8]['63s'] = 10
poker_hand_table[9]['63s'] = 10
poker_hand_table[10]['63s'] = 10
poker_hand_table[2]['63o'] = 35
poker_hand_table[3]['63o'] = 25
poker_hand_table[4]['63o'] = 15
poker_hand_table[5]['63o'] = 15
poker_hand_table[6]['63o'] = 10
poker_hand_table[7]['63o'] = 10
poker_hand_table[8]['63o'] = 10
poker_hand_table[9]['63o'] = 5
poker_hand_table[10]['63o'] = 5
poker_hand_table[2]['62s'] = 40
poker_hand_table[3]['62s'] = 25
poker_hand_table[4]['62s'] = 20
poker_hand_table[5]['62s'] = 15
poker_hand_table[6]['62s'] = 15
poker_hand_table[7]['62s'] = 10
poker_hand_table[8]['62s'] = 10
poker_hand_table[9]['62s'] = 10
poker_hand_table[10]['62s'] = 10
poker_hand_table[2]['62o'] = 35
poker_hand_table[3]['62o'] = 20
poker_hand_table[4]['62o'] = 15
poker_hand_table[5]['62o'] = 10
poker_hand_table[6]['62o'] = 10
poker_hand_table[7]['62o'] = 10
poker_hand_table[8]['62o'] = 5
poker_hand_table[9]['62o'] = 5
poker_hand_table[10]['62o'] = 5
poker_hand_table[2]['55'] = 60
poker_hand_table[3]['55'] = 40
poker_hand_table[4]['55'] = 30
poker_hand_table[5]['55'] = 20
poker_hand_table[6]['55'] = 20
poker_hand_table[7]['55'] = 15
poker_hand_table[8]['55'] = 15
poker_hand_table[9]['55'] = 15
poker_hand_table[10]['55'] = 10
poker_hand_table[2]['54s'] = 40
poker_hand_table[3]['54s'] = 30
poker_hand_table[4]['54s'] = 25
poker_hand_table[5]['54s'] = 20
poker_hand_table[6]['54s'] = 15
poker_hand_table[7]['54s'] = 15
poker_hand_table[8]['54s'] = 15
poker_hand_table[9]['54s'] = 10
poker_hand_table[10]['54s'] = 10
poker_hand_table[2]['54o'] = 40
poker_hand_table[3]['54o'] = 25
poker_hand_table[4]['54o'] = 20
poker_hand_table[5]['54o'] = 15
poker_hand_table[6]['54o'] = 15
poker_hand_table[7]['54o'] = 10
poker_hand_table[8]['54o'] = 10
poker_hand_table[9]['54o'] = 10
poker_hand_table[10]['54o'] = 10
poker_hand_table[2]['53s'] = 40
poker_hand_table[3]['53s'] = 25
poker_hand_table[4]['53s'] = 20
poker_hand_table[5]['53s'] = 20
poker_hand_table[6]['53s'] = 15
poker_hand_table[7]['53s'] = 15
poker_hand_table[8]['53s'] = 10
poker_hand_table[9]['53s'] = 10
poker_hand_table[10]['53s'] = 10
poker_hand_table[2]['53o'] = 35
poker_hand_table[3]['53o'] = 25
poker_hand_table[4]['53o'] = 15
poker_hand_table[5]['53o'] = 15
poker_hand_table[6]['53o'] = 10
poker_hand_table[7]['53o'] = 10
poker_hand_table[8]['53o'] = 10
poker_hand_table[9]['53o'] = 10
poker_hand_table[10]['53o'] = 5
poker_hand_table[2]['52s'] = 40
poker_hand_table[3]['52s'] = 25
poker_hand_table[4]['52s'] = 20
poker_hand_table[5]['52s'] = 15
poker_hand_table[6]['52s'] = 15
poker_hand_table[7]['52s'] = 10
poker_hand_table[8]['52s'] = 10
poker_hand_table[9]['52s'] = 10
poker_hand_table[10]['52s'] = 10
poker_hand_table[2]['52o'] = 35
poker_hand_table[3]['52o'] = 20
poker_hand_table[4]['52o'] = 15
poker_hand_table[5]['52o'] = 10
poker_hand_table[6]['52o'] = 10
poker_hand_table[7]['52o'] = 10
poker_hand_table[8]['52o'] = 10
poker_hand_table[9]['52o'] = 5
poker_hand_table[10]['52o'] = 5
poker_hand_table[2]['44'] = 55
poker_hand_table[3]['44'] = 35
poker_hand_table[4]['44'] = 25
poker_hand_table[5]['44'] = 20
poker_hand_table[6]['44'] = 15
poker_hand_table[7]['44'] = 15
poker_hand_table[8]['44'] = 15
poker_hand_table[9]['44'] = 15
poker_hand_table[10]['44'] = 10
poker_hand_table[2]['43s'] = 40
poker_hand_table[3]['43s'] = 25
poker_hand_table[4]['43s'] = 20
poker_hand_table[5]['43s'] = 15
poker_hand_table[6]['43s'] = 15
poker_hand_table[7]['43s'] = 15
poker_hand_table[8]['43s'] = 10
poker_hand_table[9]['43s'] = 10
poker_hand_table[10]['43s'] = 10
poker_hand_table[2]['43o'] = 35
poker_hand_table[3]['43o'] = 20
poker_hand_table[4]['43o'] = 15
poker_hand_table[5]['43o'] = 15
poker_hand_table[6]['43o'] = 10
poker_hand_table[7]['43o'] = 10
poker_hand_table[8]['43o'] = 10
poker_hand_table[9]['43o'] = 10
poker_hand_table[10]['43o'] = 5
poker_hand_table[2]['42s'] = 35
poker_hand_table[3]['42s'] = 25
poker_hand_table[4]['42s'] = 20
poker_hand_table[5]['42s'] = 15
poker_hand_table[6]['42s'] = 15
poker_hand_table[7]['42s'] = 10
poker_hand_table[8]['42s'] = 10
poker_hand_table[9]['42s'] = 10
poker_hand_table[10]['42s'] = 10
poker_hand_table[2]['42o'] = 30
poker_hand_table[3]['42o'] = 20
poker_hand_table[4]['42o'] = 15
poker_hand_table[5]['42o'] = 10
poker_hand_table[6]['42o'] = 10
poker_hand_table[7]['42o'] = 10
poker_hand_table[8]['42o'] = 5
poker_hand_table[9]['42o'] = 5
poker_hand_table[10]['42o'] = 5
poker_hand_table[2]['33'] = 55
poker_hand_table[3]['33'] = 35
poker_hand_table[4]['33'] = 25
poker_hand_table[5]['33'] = 20
poker_hand_table[6]['33'] = 15
poker_hand_table[7]['33'] = 15
poker_hand_table[8]['33'] = 15
poker_hand_table[9]['33'] = 15
poker_hand_table[10]['33'] = 10
poker_hand_table[2]['32s'] = 35
poker_hand_table[3]['32s'] = 25
poker_hand_table[4]['32s'] = 20
poker_hand_table[5]['32s'] = 15
poker_hand_table[6]['32s'] = 15
poker_hand_table[7]['32s'] = 10
poker_hand_table[8]['32s'] = 10
poker_hand_table[9]['32s'] = 10
poker_hand_table[10]['32s'] = 10
poker_hand_table[2]['32o'] = 30
poker_hand_table[3]['32o'] = 20
poker_hand_table[4]['32o'] = 15
poker_hand_table[5]['32o'] = 10
poker_hand_table[6]['32o'] = 10
poker_hand_table[7]['32o'] = 10
poker_hand_table[8]['32o'] = 5
poker_hand_table[9]['32o'] = 5
poker_hand_table[10]['32o'] = 5
poker_hand_table[2]['22'] = 50
poker_hand_table[3]['22'] = 30
poker_hand_table[4]['22'] = 20
poker_hand_table[5]['22'] = 20
poker_hand_table[6]['22'] = 15
poker_hand_table[7]['22'] = 15
poker_hand_table[8]['22'] = 15
poker_hand_table[9]['22'] = 10
poker_hand_table[10]['22'] = 10


class MCModel(object):
    def __init__(self, save):
        self._nothing = "test"
        self.reload_left = 2
        self.model = {"seed": 831}
        self._state = [0] * 52 * 2 + [0] * 52 * 5 + [
            0] * 3  # { my 2 card (one hot), community 5 card (one hot), total_pot, my_stack, to_call) ]
        self.value_prediction = {}
        self.episode = []
        self.pi = {}  # state action function
        self.Q = {}  # state action function Q(s, a), two dimension dict
        self.Returns = {}  # returns of each s, a pairs, two dimension dict
        self.initial_stack = 0
        self.final_stack = 0
        self.epsilon = 0.3  # epsilon-greedy
        self.evaluator = Evaluator()
        self.hand_odd = -1
        self.save = save

    def __turn_observation_to_state(self, observation, playerid):
        number_of_players = len([p for p in observation.player_states if p.stack > 0])
        my_card = sorted(observation.player_states[playerid].hand, reverse=True)
        my_card1, my_card2 = my_card
        community_card = observation.community_card

        if community_card == [-1, -1, -1, -1, -1]:  # pre-flops
            hand_rank = -1
        elif community_card[3] == community_card[4] == -1:
            community_card = community_card[0:3]
            hand_rank = self.evaluator.evaluate(my_card, community_card)
        elif community_card[4] == -1:
            community_card = community_card[0:4]
            hand_rank = self.evaluator.evaluate(my_card, community_card)
        else:
            hand_rank = self.evaluator.evaluate(my_card, community_card)

        my_card1 = Card.int_to_str(int(my_card1))
        my_card2 = Card.int_to_str(int(my_card2))

        # check card
        if my_card1[0] == my_card2[0]:
            hand = my_card1[0].upper() + my_card2[0].upper()
        elif my_card1[1] == my_card2[1]:
            hand = my_card1[0].upper() + my_card2[0].upper() + 's'
        else:
            hand = my_card1[0].upper() + my_card2[0].upper() + 'o'

        if self.hand_odd == -1:
            if number_of_players in poker_hand_table and hand in poker_hand_table[number_of_players]:
                self.hand_odd = poker_hand_table[number_of_players][hand]
            else:
                self.hand_odd = 5

        return [self.hand_odd, hand_rank, number_of_players]

    def record_episode(self, observation, playerid, action):

        state = self.__turn_observation_to_state(observation, playerid)
        self.episode.append([','.join(map(str, state)), action.action])

    def clear_episode(self):
        self.hand_odd = -1
        self.episode.clear()

    def set_initial_stack(self, stack):
        self.initial_stack = stack
        print('initial stack:', self.initial_stack)

    def set_final_stack(self, stack):
        self.final_stack = stack

    def onlineTrainModel(self):
        self.on_policy_MC()
        return

    def on_policy_MC(self):
        G = self.final_stack - self.initial_stack  # stack difference as return
        print(G)
        for sa in self.episode:
            s, a = sa
            # no discount, so G for all s,a are same, regardless of order
            if s not in self.Returns:
                self.Returns[s] = {}
            if a not in self.Returns[s]:
                self.Returns[s][a] = []
            self.Returns[s][a].append(G)

        # update Q
        for s, a in self.episode:
            if s not in self.Q:
                self.Q[s] = {}
                self.Q[s][action_table.CALL] = 0
                self.Q[s][action_table.RAISE] = 0
                self.Q[s][action_table.CHECK] = 0
                self.Q[s][action_table.FOLD] = 0
            self.Q[s][a] = np.mean(self.Returns[s][a])

        # update policy function pi
        for s, a in self.episode:
            possible_action = self.Q[s]
            A_star = max(possible_action.items(), key=operator.itemgetter(1))[0]  # best action
            choice = np.random.choice(['exploit', 'explore'], p=[1.0 - self.epsilon, self.epsilon])
            if choice == 'exploit':
                self.pi[s] = A_star
            else:
                self.pi[s] = random.choice([action_table.FOLD,
                                            action_table.CALL,
                                            action_table.RAISE,
                                            action_table.CHECK])

    def saveModel(self):
        current_time = strftime("%Y-%m-%d %H.%M.%S", gmtime())
        model_path = os.path.join('model', current_time)
        if not os.path.exists(model_path):
            os.makedirs(model_path)
        print(model_path)
        pi_path = os.path.join(model_path, 'pi.pkl')
        Q_path = os.path.join(model_path, 'Q.pkl')
        Return_path = os.path.join(model_path, 'Return.pkl')
        pickle.dump(self.pi, open(pi_path, 'wb'))
        pickle.dump(self.Q, open(Q_path, 'wb'))
        pickle.dump(self.Returns, open(Return_path, 'wb'))

        return

    def loadModel(self, path):
        #model_list = sorted([model for model in os.listdir('model') if os.path.isdir(os.path.join('model', model))],
                            #reverse=True)
        #model_path = os.path.join('model', model_list[0])  # load the latest model only
        #print('load', model_path)
        #pi_path = os.path.join(model_path, 'pi.pkl')
        #Q_path = os.path.join(model_path, 'Q.pkl')
        #Return_path = os.path.join(model_path, 'Return.pkl')
        self.pi = pickle.load(open(path, 'rb'))
        #self.Q = pickle.load(open(Q_path, 'rb'))
        #self.Returns = pickle.load(open(Return_path, 'rb'))
        return

    def takeAction(self, observation, playerid):
        """ (Predict/ Policy) Select Action under state """
        # take action under pi
        state = self.__turn_observation_to_state(observation, playerid)
        state_string = ','.join(map(str, state))

        number_of_players = len([p for p in observation.player_states if p.stack > 0])
        my_card = sorted(observation.player_states[playerid].hand, reverse=True)
        my_card1, my_card2 = my_card

        my_card1 = Card.int_to_str(int(my_card1))
        my_card2 = Card.int_to_str(int(my_card2))

        current_pair = 0

        if my_card1[0] == my_card2[0]:
            current_pair += 1

        # community card
        community_card = observation.community_card

        for card in community_card:
            if card != -1:
                card = Card.int_to_str(int(card))
                if card[0] == 'K' or card[0] == 'Q' or card[0] == 'J' or card[0] == 'A':
                    if card[0] == my_card1[0] or card[0] == my_card2[0]:
                        current_pair += 1
                        action = action_table.RAISE
                        return ACTION(action, 5000)
                else:
                    if card[0] == my_card1[0] or card[0] == my_card2[0]:
                        current_pair += 1

        if current_pair > 1:
            action = action_table.RAISE
            return ACTION(action, 300)

        # check card
        elif my_card1[0] == my_card2[0]:
            hand = my_card1[0].upper() + my_card2[0].upper()
        elif my_card1[1] == my_card2[1]:
            hand = my_card1[0].upper() + my_card2[0].upper() + 's'
        else:
            hand = my_card1[0].upper() + my_card2[0].upper() + 'o'

        if number_of_players in poker_hand_table and hand in poker_hand_table[number_of_players]:
            hand_odd = poker_hand_table[number_of_players][hand]
        else:
            hand_odd = 5

        # always call when hand_odd >= 30
        if hand_odd >= 30:
            action = action_table.CALL
        elif state_string not in self.pi:
            # action = random.choice([action_table.FOLD,
            #                        action_table.CALL,
            #                        action_table.RAISE,
            #                        action_table.CHECK])
            action = action_table.CHECK
            self.pi[state_string] = action
        else:
            action = self.pi[state_string]

        if action != action_table.FOLD:
            if observation.community_state.to_call > observation.player_states[playerid].stack * 0.5:
                action = action_table.FOLD

        if action == action_table.FOLD:
            return ACTION(action, 0)
        elif action == action_table.CALL:
            return ACTION(action, observation.community_state.to_call)
        elif action == action_table.RAISE:
            return ACTION(action, 10)
        else:  # check
            return ACTION(action, 0)

    def getReload(self, state, playerid):
        for player in state.player_state:
            if player.seat == playerid:
                my_stack = player.stack
        '''return `True` if reload is needed under state, otherwise `False`'''
        if self.reload_left > 0 and my_stack < state.community_state.bigblind:
            self.reload_left -= 1
            return True
        else:
            return False

    def print_episode(self):
        print('episode:', self.episode)
